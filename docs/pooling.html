<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/default.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
        <script>hljs.highlightAll();</script>
        <title></title><style type="text/css">body{
 font-family: helvetica;
 color: #222;
 padding: 0px 50px 50px 50px;
}
ul {
                list-style-type: none;
                margin: 0;
                padding: 0;
                overflow: hidden;
            }
            li {
                float: left;
            }
            li a {
                display: block;
                color: black;
                text-align: center;
                padding: 14px 16px;
                text-decoration: none;
            }
            p a {
                color: #63b562;
                text-decoration: none;
            }
</style></head><body><ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="general_structure.html">General Protocol Structure</a></li>
            <li><a href="dilution.html">Dilution</a></li>
            <li><a class="active" href="pooling.html">Pooling</a></li>
            <li><a href="normalization.html">Normalization</a></li>
            <li><a href="dna_extraction_purification.html">DNA Extraction & Purification</a></li>
            <li style="float:right;"><a href="https://github.com/reyamiller/Otto">GitHub</a></li>
        </ul><h1>Pooling</h1><p>The <a class="reference external" href="protocols/pooling.py">Pooling</a> protocol pools liquid from user-specified wells into a single tube.</p><p>The wells are specified in the code before the protocol is run. Users can copy and paste from a spreadsheet or manually change the values in the file.</p><pre><code class="python">selected_wells_data = """
        1   2       3       4       5       6       7       8       9       10      11      12
A   FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   FALSE
B   FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   FALSE
C   FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   FALSE
D   FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   FALSE
E   FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   FALSE
F   FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   FALSE
G   FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   FALSE
H   FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   TRUE    FALSE   FALSE
"""</code></pre><p>This data is then converted to comma-separated value (CSV) format.</p><pre><code class="python">selected_wells_data = selected_wells_data.replace('\t', ',')</code></pre><p>The <code>run()</code> function starts by reading <code>selected_wells_data</code> in order to determine which wells to pool from.</p><pre><code class="python">csv_wells_data = selected_wells_data.splitlines()[1:]
wells_data_reader = csv.DictReader(csv_wells_data)
selected_wells = []
for row in wells_data_reader:
    r = row[""]
    for i in range(1,13):
        new_key = r + str(i)
        row[new_key] = row.pop(f'{i}')
    del row[""]
    keys = list(row.keys())
    true_keys = []
    for key in keys:
        if row[key] == "TRUE":
            true_keys.append(key)
    selected_wells.extend(true_keys)</code></pre><p>When we define the sample plate, we can now indicate that the water is in the wells specified by <code>selected_wells</code>.</p><pre><code class="python">dna_plate = protocol.load_labware("opentrons_96_wellplate_200ul_pcr_full_skirt", 2)
dna = protocol.define_liquid(
    name="DNA",
    description="The DNA samples.",
    display_color="#FD9381"
)
dna_plate.load_liquid(
    wells=selected_wells,
    volume=100,
    liquid=dna
)</code></pre><p>Before starting, there should be water in a tube in well <code>A1</code> of the tube rack.</p><p>The robot transfers <code>x</code> µl of water to well <code>A2</code>, where <code>x</code> = 100 - the number of samples.</p><pre><code class="python">left_pipette.transfer(volume=(100 - len(selected_wells)), source=tube_rack["A1"], dest=tube_rack["A2"], blow_out=True, blowout_location="destination well")</code></pre><p>Then 1µl of each sample gets pooled into the tube at well <code>A2</code>.</p><pre><code class="python">for well in selected_wells:
    left_pipette.transfer(volume=1, source=dna_plate[well], dest=tube_rack["A2"], blow_out=True, blowout_location="destination well")</code></pre></body></html>